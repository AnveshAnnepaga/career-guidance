{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ANNEPAGA ANVESH\\\\Downloads\\\\project-bolt-sb1-snoa6zdp\\\\springbott\\\\project\\\\src\\\\components\\\\RecommendationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CourseList from './CourseList';\nimport { useNavigate } from 'react-router-dom';\nimport CourseDetail from './CourseDetail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecommendationPage = ({\n  userRatings\n}) => {\n  _s();\n  const [recommendedCourses, setRecommendedCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  useEffect(() => {\n    console.log(\"User Ratings in RecommendationPage:\", userRatings); // Log the prop\n    const cachedData = localStorage.getItem('cachedRecommendations');\n    if (cachedData) {\n      setRecommendedCourses(JSON.parse(cachedData));\n    } else if (userRatings) {\n      fetch('http://localhost:8081/api/recommendations', {\n        // CORRECTED ENDPOINT\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"Programming Skills\": userRatings.programming,\n          \"Cyber Security\": userRatings.cybersecurity,\n          \"Communication Skills\": userRatings.communication,\n          \"Aptitude\": userRatings.aptitude\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(\"API Response:\", data);\n        setRecommendedCourses(data);\n        sessionStorage.setItem('recommendedCourses', JSON.stringify(data));\n      }).catch(err => console.error(\"Error fetching recommendations:\", err));\n    }\n  }, [userRatings]);\n  if (selectedCourse) {\n    return /*#__PURE__*/_jsxDEV(CourseDetail, {\n      course: selectedCourse\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(CourseList, {\n    courses: recommendedCourses,\n    onCourseSelect: setSelectedCourse,\n    suitableCourses: recommendedCourses\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(RecommendationPage, \"vY8JAc1lVA+OrcYFg/r2NI8MDxM=\");\n_c = RecommendationPage;\nexport default RecommendationPage;\nvar _c;\n$RefreshReg$(_c, \"RecommendationPage\");","map":{"version":3,"names":["React","useEffect","useState","CourseList","useNavigate","CourseDetail","jsxDEV","_jsxDEV","RecommendationPage","userRatings","_s","recommendedCourses","setRecommendedCourses","selectedCourse","setSelectedCourse","console","log","cachedData","localStorage","getItem","JSON","parse","fetch","method","headers","body","stringify","programming","cybersecurity","communication","aptitude","then","res","json","data","sessionStorage","setItem","catch","err","error","course","fileName","_jsxFileName","lineNumber","columnNumber","courses","onCourseSelect","suitableCourses","_c","$RefreshReg$"],"sources":["C:/Users/ANNEPAGA ANVESH/Downloads/project-bolt-sb1-snoa6zdp/springbott/project/src/components/RecommendationPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport CourseList from './CourseList';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CourseDetail from './CourseDetail';\r\n\r\nconst RecommendationPage = ({ userRatings }) => {\r\n  const [recommendedCourses, setRecommendedCourses] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"User Ratings in RecommendationPage:\", userRatings); // Log the prop\r\n    const cachedData = localStorage.getItem('cachedRecommendations');\r\n        if (cachedData) {\r\n          setRecommendedCourses(JSON.parse(cachedData));\r\n        } else if (userRatings) {\r\n      fetch('http://localhost:8081/api/recommendations', { // CORRECTED ENDPOINT\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          \"Programming Skills\": userRatings.programming,\r\n          \"Cyber Security\": userRatings.cybersecurity,\r\n          \"Communication Skills\": userRatings.communication,\r\n          \"Aptitude\": userRatings.aptitude\r\n        })\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          console.log(\"API Response:\", data);\r\n          setRecommendedCourses(data);\r\n          sessionStorage.setItem('recommendedCourses', JSON.stringify(data));\r\n        })\r\n        .catch(err => console.error(\"Error fetching recommendations:\", err));\r\n    }\r\n  }, [userRatings]);\r\n\r\n  if (selectedCourse) {\r\n    return <CourseDetail course={selectedCourse} />;\r\n  }\r\n\r\n  return (\r\n    <CourseList\r\n      courses={recommendedCourses}\r\n      onCourseSelect={setSelectedCourse}\r\n      suitableCourses={recommendedCourses}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RecommendationPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE1DD,SAAS,CAAC,MAAM;IACdc,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEP,WAAW,CAAC,CAAC,CAAC;IACjE,MAAMQ,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;IAC5D,IAAIF,UAAU,EAAE;MACdL,qBAAqB,CAACQ,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAC;IAC/C,CAAC,MAAM,IAAIR,WAAW,EAAE;MAC1Ba,KAAK,CAAC,2CAA2C,EAAE;QAAE;QACnDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEL,IAAI,CAACM,SAAS,CAAC;UACnB,oBAAoB,EAAEjB,WAAW,CAACkB,WAAW;UAC7C,gBAAgB,EAAElB,WAAW,CAACmB,aAAa;UAC3C,sBAAsB,EAAEnB,WAAW,CAACoB,aAAa;UACjD,UAAU,EAAEpB,WAAW,CAACqB;QAC1B,CAAC;MACH,CAAC,CAAC,CACCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACZnB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEkB,IAAI,CAAC;QAClCtB,qBAAqB,CAACsB,IAAI,CAAC;QAC3BC,cAAc,CAACC,OAAO,CAAC,oBAAoB,EAAEhB,IAAI,CAACM,SAAS,CAACQ,IAAI,CAAC,CAAC;MACpE,CAAC,CAAC,CACDG,KAAK,CAACC,GAAG,IAAIvB,OAAO,CAACwB,KAAK,CAAC,iCAAiC,EAAED,GAAG,CAAC,CAAC;IACxE;EACF,CAAC,EAAE,CAAC7B,WAAW,CAAC,CAAC;EAEjB,IAAII,cAAc,EAAE;IAClB,oBAAON,OAAA,CAACF,YAAY;MAACmC,MAAM,EAAE3B;IAAe;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjD;EAEA,oBACErC,OAAA,CAACJ,UAAU;IACT0C,OAAO,EAAElC,kBAAmB;IAC5BmC,cAAc,EAAEhC,iBAAkB;IAClCiC,eAAe,EAAEpC;EAAmB;IAAA8B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrC,CAAC;AAEN,CAAC;AAAClC,EAAA,CAzCIF,kBAAkB;AAAAwC,EAAA,GAAlBxC,kBAAkB;AA2CxB,eAAeA,kBAAkB;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}