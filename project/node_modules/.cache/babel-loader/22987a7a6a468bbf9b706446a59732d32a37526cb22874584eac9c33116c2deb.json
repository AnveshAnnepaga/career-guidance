{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ANNEPAGA ANVESH\\\\Downloads\\\\project-bolt-sb1-snoa6zdp\\\\springbott\\\\project\\\\src\\\\components\\\\RecommendationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CourseList from './CourseList';\nimport { useNavigate } from 'react-router-dom';\nimport CourseDetail from './CourseDetail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecommendationPage = ({\n  userRatings\n}) => {\n  _s();\n  const [recommendedCourses, setRecommendedCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const navigate = useNavigate(); // Initialize navigate\n\n  useEffect(() => {\n    console.log(\"User Ratings in RecommendationPage:\", userRatings); // Log the prop\n    const storedRecommendations = sessionStorage.getItem('recommendedCourses');\n    if (storedRecommendations) {\n      setRecommendedCourses(JSON.parse(storedRecommendations));\n    } else if (userRatings) {\n      fetch('http://localhost:8081/api/recommendations', {\n        // CORRECTED ENDPOINT\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"Programming Skills\": userRatings.programming,\n          \"Cyber Security\": userRatings.cybersecurity,\n          \"Communication Skills\": userRatings.communication,\n          \"Aptitude\": userRatings.aptitude\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(\"API Response:\", data);\n        setRecommendedCourses(data);\n        sessionStorage.setItem('recommendedCourses', JSON.stringify(data));\n      }).catch(err => console.error(\"Error fetching recommendations:\", err));\n    }\n  }, [userRatings]);\n  const handleCourseSelect = course => {\n    sessionStorage.setItem('recommendedCourses', JSON.stringify(recommendedCourses)); // Store before navigating\n    setSelectedCourse(course);\n  };\n  const handleGoBack = () => {\n    setSelectedCourse(null); // Clear selected course to go back to the list\n  };\n  if (selectedCourse) {\n    return /*#__PURE__*/_jsxDEV(CourseDetail, {\n      course: selectedCourse,\n      onGoBack: handleGoBack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(CourseList, {\n    courses: recommendedCourses,\n    onCourseSelect: handleCourseSelect,\n    suitableCourses: recommendedCourses\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(RecommendationPage, \"9uSxvJiufEqfpdFe+u4XIDtWZSE=\", false, function () {\n  return [useNavigate];\n});\n_c = RecommendationPage;\nexport default RecommendationPage;\nvar _c;\n$RefreshReg$(_c, \"RecommendationPage\");","map":{"version":3,"names":["React","useEffect","useState","CourseList","useNavigate","CourseDetail","jsxDEV","_jsxDEV","RecommendationPage","userRatings","_s","recommendedCourses","setRecommendedCourses","selectedCourse","setSelectedCourse","navigate","console","log","storedRecommendations","sessionStorage","getItem","JSON","parse","fetch","method","headers","body","stringify","programming","cybersecurity","communication","aptitude","then","res","json","data","setItem","catch","err","error","handleCourseSelect","course","handleGoBack","onGoBack","fileName","_jsxFileName","lineNumber","columnNumber","courses","onCourseSelect","suitableCourses","_c","$RefreshReg$"],"sources":["C:/Users/ANNEPAGA ANVESH/Downloads/project-bolt-sb1-snoa6zdp/springbott/project/src/components/RecommendationPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport CourseList from './CourseList';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CourseDetail from './CourseDetail';\r\n\r\nconst RecommendationPage = ({ userRatings }) => {\r\n  const [recommendedCourses, setRecommendedCourses] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const navigate = useNavigate(); // Initialize navigate\r\n\r\n  useEffect(() => {\r\n    console.log(\"User Ratings in RecommendationPage:\", userRatings); // Log the prop\r\n    const storedRecommendations = sessionStorage.getItem('recommendedCourses');\r\n\r\n    if (storedRecommendations) {\r\n      setRecommendedCourses(JSON.parse(storedRecommendations));\r\n    } else if (userRatings) {\r\n      fetch('http://localhost:8081/api/recommendations', { // CORRECTED ENDPOINT\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          \"Programming Skills\": userRatings.programming,\r\n          \"Cyber Security\": userRatings.cybersecurity,\r\n          \"Communication Skills\": userRatings.communication,\r\n          \"Aptitude\": userRatings.aptitude,\r\n        })\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          console.log(\"API Response:\", data);\r\n          setRecommendedCourses(data);\r\n          sessionStorage.setItem('recommendedCourses', JSON.stringify(data));\r\n        })\r\n        .catch(err => console.error(\"Error fetching recommendations:\", err));\r\n    }\r\n  }, [userRatings]);\r\n\r\n  const handleCourseSelect = (course) => {\r\n    sessionStorage.setItem('recommendedCourses', JSON.stringify(recommendedCourses)); // Store before navigating\r\n    setSelectedCourse(course);\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    setSelectedCourse(null); // Clear selected course to go back to the list\r\n  };\r\n\r\n  if (selectedCourse) {\r\n    return <CourseDetail course={selectedCourse} onGoBack={handleGoBack} />;\r\n  }\r\n\r\n  return (\r\n    <CourseList\r\n      courses={recommendedCourses}\r\n      onCourseSelect={handleCourseSelect}\r\n      suitableCourses={recommendedCourses}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RecommendationPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}